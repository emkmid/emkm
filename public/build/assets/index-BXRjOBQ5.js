import{b as N,R as x,u as v,j as e,H as y,L as h}from"./app-CKCinfFZ.js";import{A as C,a as P}from"./app-layout-DzlcKoE3.js";import{H as T}from"./heading-small-BrPfhW7J.js";import{A as m,a as u,b as j}from"./alert-D7wN36KB.js";import{A as k,a as w,b as B,c as H,d as L,e as R,f as S,g as E,h as F}from"./alert-dialog-D2JM5Qbt.js";import{B as n}from"./button-CKcqXIK3.js";import{C as I,d as _}from"./card-DS7sU3Zj.js";import{P as M,a as Y,b as d,c as G,d as J,e as K}from"./pagination-CK53jZCJ.js";import{T as q,a as z,b as c,c as t,d as O,e as s}from"./table-D2TKR52N.js";import{C as g}from"./circle-check-big-C8IFvFM0.js";import"./index-B3DM7Jyq.js";import"./index-YQV78XoV.js";import"./index-BK5_uL61.js";import"./createLucideIcon-zm2gQ1If.js";import"./index-SDKuaDNM.js";import"./index-Dcf7jzsj.js";import"./index-DYBwkXJz.js";import"./book-open-DJVO7zTz.js";const Q=[{title:"Pengeluaran",href:"/dashboard/expenses"}],U=[{title:"Pengeluaran",href:""}],ue=()=>{const{expenses:i,flash:a}=N().props,[V,p]=x.useState(a),{processing:o,delete:b}=v();return x.useEffect(()=>{if(a!=null&&a.success||a!=null&&a.error){const r=setTimeout(()=>{p({})},3e3);return()=>clearTimeout(r)}},[a]),e.jsxs(C,{breadcrumbs:Q,children:[e.jsx(y,{title:"Pengeluaran"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[e.jsx(P,{breadcrumbs:U}),(a==null?void 0:a.success)&&e.jsxs(m,{variant:"default",className:"border-green-300 bg-green-100 text-green-700 dark:border-green-600 dark:bg-green-900/20 dark:text-green-200",children:[e.jsx(g,{className:"h-4 w-4"}),e.jsx(u,{children:"Berhasil"}),e.jsx(j,{children:a.success})]}),(a==null?void 0:a.error)&&e.jsxs(m,{variant:"destructive",className:"border-red-300 bg-red-100 text-red-700 dark:border-red-600 dark:bg-red-900/20 dark:text-red-200",children:[e.jsx(g,{className:"h-4 w-4"}),e.jsx(u,{children:"Gagal"}),e.jsx(j,{children:a.error})]}),e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx(T,{title:"Pengeluaran",description:"Daftar semua transaksi pengeluaran yang telah dicatat."}),e.jsx(n,{asChild:!0,children:e.jsx(h,{href:route("expenses.create"),children:"Tambah Pengeluaran"})})]}),e.jsx(I,{children:e.jsx(_,{children:e.jsxs(q,{children:[e.jsx(z,{children:e.jsxs(c,{children:[e.jsx(t,{children:"Tanggal"}),e.jsx(t,{children:"Kategori"}),e.jsx(t,{children:"Deskripsi"}),e.jsx(t,{children:"Jumlah"}),e.jsx(t,{style:{width:"1%"},children:"Aksi"})]})}),e.jsx(O,{children:i.data.length>0?i.data.map(r=>e.jsxs(c,{children:[e.jsx(s,{children:new Date(r.date).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})}),e.jsx(s,{children:r.expense_category.name}),e.jsx(s,{children:r.description}),e.jsxs(s,{children:["Rp",Number(r.amount).toLocaleString("id-ID")]}),e.jsxs(s,{children:[e.jsx(n,{asChild:!0,className:"me-2 w-fit",children:e.jsx(h,{href:route("expenses.edit",{expense:r.id}),children:"Edit"})}),e.jsxs(k,{children:[e.jsx(w,{asChild:!0,children:e.jsx(n,{variant:"destructive",className:"w-fit",children:"Hapus"})}),e.jsxs(B,{children:[e.jsxs(H,{children:[e.jsx(L,{children:"Yakin ingin menghapus?"}),e.jsx(R,{children:"Data akan dihapus secara permanen dan tidak bisa dikembalikan."})]}),e.jsxs(S,{children:[e.jsx(E,{children:"Batal"}),e.jsx(F,{asChild:!0,children:e.jsx(n,{disabled:o,onClick:()=>b(route("expenses.destroy",{expense:r.id})),children:o?"Menghapus...":"Ya, hapus"})})]})]})]})]})]},r.id)):e.jsx(c,{children:e.jsx(s,{colSpan:5,className:"text-center text-gray-500",children:"Belum ada pengeluaran"})})})]})})}),i.links.length>1&&e.jsx(M,{className:"mt-2 justify-end",children:e.jsx(Y,{children:i.links.map((r,l)=>{const f=r.label.includes("Previous"),A=r.label.includes("Next"),D=r.active;return f?e.jsx(d,{children:e.jsx(G,{href:r.url??"#",className:r.url?"":"pointer-events-none opacity-50"})},l):A?e.jsx(d,{children:e.jsx(J,{href:r.url??"#",className:r.url?"":"pointer-events-none opacity-50"})},l):e.jsx(d,{children:e.jsx(K,{href:r.url??"#",isActive:D,className:r.url?"":"pointer-events-none opacity-50",children:r.label})},l)})})})]})]})};export{ue as default};
