import{r as f,j as e,H as _,L as A,a}from"./app-BtQOPadY.js";import{A as M,b as c}from"./app-layout-CEmfntDr.js";import{C as p,a as g,b as j,d as N,c as S}from"./card-VW3GaBeo.js";import{B as r}from"./button-kG5wWM0Y.js";import{A as T,b as I,c as L,d as H,e as $,f as z,g as B,h as R}from"./alert-dialog-DklLuHPp.js";import{c as y}from"./createLucideIcon-CsV2O2Jo.js";import{C as q}from"./check-PhiSKmRE.js";import{T as E}from"./trash-2-B5RojKHF.js";import{C as O}from"./circle-x-DxSTpRgB.js";import{T as P}from"./triangle-alert-B_0HhwMe.js";import{C as F}from"./circle-check-big-igs7CKTv.js";import"./index-DXMqlacP.js";import"./index-bf5fs-Ob.js";import"./index-K5sDhLBd.js";import"./index-Baq8rRPR.js";import"./index-vrIUAlqt.js";import"./index-JUcmVJXA.js";import"./book-open-Dpw05k2Y.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],U=y("CheckCheck",J);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],X=y("Info",W),G=[{title:"Dashboard",href:"/dashboard"},{title:"Notifications",href:"/dashboard/notifications"}];function ue({notifications:t,unreadCount:d}){const[b,l]=f.useState(!1),[n,m]=f.useState(null),w=s=>{s.is_read||a.post(route("notifications.mark-read",s.id),{},{preserveScroll:!0})},k=()=>{a.post(route("notifications.mark-all-read"),{},{preserveScroll:!0})},v=()=>{n&&a.delete(route("notifications.destroy",n.id),{onSuccess:()=>{l(!1),m(null)}})},C=s=>{const x=new Date(s),i=new Date().getTime()-x.getTime(),o=Math.floor(i/6e4),h=Math.floor(i/36e5),u=Math.floor(i/864e5);return o<1?"Just now":o<60?`${o} minutes ago`:h<24?`${h} hours ago`:u<7?`${u} days ago`:x.toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})},D=s=>{switch(s){case"success":return e.jsx(F,{className:"h-5 w-5 text-green-600"});case"warning":return e.jsx(P,{className:"h-5 w-5 text-yellow-600"});case"error":return e.jsx(O,{className:"h-5 w-5 text-red-600"});default:return e.jsx(X,{className:"h-5 w-5 text-blue-600"})}};return e.jsxs(M,{breadcrumbs:G,children:[e.jsx(_,{title:"Notifications"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[e.jsx(c,{className:"h-8 w-8"}),"Notifications"]}),e.jsx("p",{className:"text-muted-foreground",children:"Stay updated with your account activities"})]}),d>0&&e.jsxs(r,{onClick:k,children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Mark All as Read"]})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:e.jsxs(p,{children:[e.jsxs(g,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(j,{className:"text-sm font-medium",children:"Unread Notifications"}),e.jsx(c,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(N,{children:[e.jsx("div",{className:"text-2xl font-bold",children:d}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Out of ",t.total," total"]})]})]})}),e.jsxs(p,{children:[e.jsxs(g,{children:[e.jsx(j,{children:"All Notifications"}),e.jsxs(S,{children:["Showing ",t.data.length," of ",t.total," notifications"]})]}),e.jsxs(N,{children:[t.data.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(c,{className:"mx-auto h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No notifications yet"}),e.jsx("p",{className:"text-muted-foreground",children:"We'll notify you when something important happens"})]}):e.jsx("div",{className:"space-y-3",children:t.data.map(s=>e.jsxs("div",{className:`relative flex items-start gap-4 rounded-lg border p-4 transition-colors ${s.is_read?"bg-background":"bg-accent/50 border-primary/20"}`,children:[!s.is_read&&e.jsx("div",{className:"absolute top-4 left-2 h-2 w-2 rounded-full bg-primary"}),e.jsx("div",{className:"mt-1 ml-2",children:D(s.type)}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.message}),s.action_url&&s.action_text&&e.jsxs(A,{href:s.action_url,className:"text-sm text-primary hover:underline mt-2 inline-block",children:[s.action_text," â†’"]})]})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:C(s.created_at)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!s.is_read&&e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>w(s),title:"Mark as read",children:e.jsx(q,{className:"h-4 w-4"})}),e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>{m(s),l(!0)},title:"Delete",children:e.jsx(E,{className:"h-4 w-4 text-red-600"})})]})]},s.id))}),t.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",t.current_page," of ",t.last_page]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{variant:"outline",size:"sm",disabled:t.current_page===1,onClick:()=>a.get(route("notifications.index",{page:t.current_page-1})),children:"Previous"}),e.jsx(r,{variant:"outline",size:"sm",disabled:t.current_page===t.last_page,onClick:()=>a.get(route("notifications.index",{page:t.current_page+1})),children:"Next"})]})]})]})]})]}),e.jsx(T,{open:b,onOpenChange:l,children:e.jsxs(I,{children:[e.jsxs(L,{children:[e.jsx(H,{children:"Delete Notification"}),e.jsx($,{children:"Are you sure you want to delete this notification? This action cannot be undone."})]}),e.jsxs(z,{children:[e.jsx(B,{children:"Cancel"}),e.jsx(R,{onClick:v,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}export{ue as default};
