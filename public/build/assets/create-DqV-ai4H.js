import{u as k,j as e,H as v,L as N}from"./app-DMzlbMlc.js";import{A as b,a as y}from"./app-layout-m_YmtBV-.js";import{H as _}from"./heading-small-V9AwRqrF.js";import{I as o}from"./input-error-BxVH2Kzk.js";import{B as m}from"./button-ClZVX0YR.js";import{C,d as S}from"./card-KbR_jJnN.js";import{C as x}from"./checkbox-nTiGXXly.js";import{I as h}from"./input-C_93X6yB.js";import{L as i}from"./label-MkiwSt19.js";import{S as B,a as F,b as T,c as I,d as n}from"./select-CJz1ZSGV.js";import{T as L}from"./textarea-Dnf7ji8Y.js";import"./index-Bw1SYNaQ.js";import"./index-IJ6B3_XY.js";import"./createLucideIcon-DgByKg4k.js";import"./index-DYoJGl24.js";import"./index-D6EfXmOo.js";import"./book-open-5Dsmw6bw.js";import"./check-C_vkuwwc.js";import"./chevron-down-Bn8SyX7Y.js";const P=[{title:"Kelola Notifikasi",href:route("notifications.index")},{title:"Buat Notifikasi",href:""}];function Y({users:d}){const{data:a,setData:t,post:u,processing:c,errors:l}=k({title:"",message:"",type:"broadcast",target_users:[],scheduled_at:""}),p=s=>{s.preventDefault(),u(route("notifications.store"))},f=(s,r)=>{r?t("target_users",[...a.target_users,s]):t("target_users",a.target_users.filter(j=>j!==s))},g=s=>{s?t("target_users",d.map(r=>r.id)):t("target_users",[])};return e.jsxs(b,{children:[e.jsx(v,{title:"Buat Notifikasi"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[e.jsx(y,{breadcrumbs:P}),e.jsx(_,{title:"Buat Notifikasi",description:"Form untuk membuat notifikasi baru"}),e.jsx(C,{children:e.jsx(S,{children:e.jsxs("form",{onSubmit:p,className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{htmlFor:"title",children:"Judul Notifikasi"}),e.jsx(h,{type:"text",id:"title",value:a.title,onChange:s=>t("title",s.target.value),placeholder:"Masukkan judul notifikasi"}),e.jsx(o,{message:l.title})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{htmlFor:"message",children:"Pesan"}),e.jsx(L,{id:"message",value:a.message,onChange:s=>t("message",s.target.value),placeholder:"Masukkan pesan notifikasi",rows:4}),e.jsx(o,{message:l.message})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{htmlFor:"type",children:"Tipe Notifikasi"}),e.jsxs(B,{value:a.type,onValueChange:s=>t("type",s),children:[e.jsx(F,{id:"type",children:e.jsx(T,{placeholder:"Pilih tipe notifikasi"})}),e.jsxs(I,{children:[e.jsx(n,{value:"system",children:"Sistem"}),e.jsx(n,{value:"reminder",children:"Pengingat"}),e.jsx(n,{value:"alert",children:"Alert"}),e.jsx(n,{value:"broadcast",children:"Broadcast"})]})]}),e.jsx(o,{message:l.type})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{children:"Target Pengguna"}),e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(x,{id:"select-all",checked:a.target_users.length===d.length,onCheckedChange:g}),e.jsx(i,{htmlFor:"select-all",children:"Pilih Semua User"})]}),e.jsx("div",{className:"max-h-48 overflow-y-auto border rounded p-2",children:d.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{id:`user-${s.id}`,checked:a.target_users.includes(s.id),onCheckedChange:r=>f(s.id,r)}),e.jsxs(i,{htmlFor:`user-${s.id}`,children:[s.name," (",s.email,")"]})]},s.id))}),e.jsx("p",{className:"text-sm text-gray-500",children:"Jika tidak ada yang dipilih, notifikasi akan dikirim ke semua user."}),e.jsx(o,{message:l.target_users})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{htmlFor:"scheduled_at",children:"Jadwal Kirim (Opsional)"}),e.jsx(h,{type:"datetime-local",id:"scheduled_at",value:a.scheduled_at,onChange:s=>t("scheduled_at",s.target.value)}),e.jsx("p",{className:"text-sm text-gray-500",children:"Jika kosong, notifikasi akan dikirim segera."}),e.jsx(o,{message:l.scheduled_at})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(N,{href:route("notifications.index"),children:e.jsx(m,{type:"button",variant:"outline",children:"Batal"})}),e.jsx(m,{type:"submit",disabled:c,children:c?"Menyimpan...":"Simpan"})]})]})})})]})]})}export{Y as default};
