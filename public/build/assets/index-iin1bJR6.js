import{a as u,j as e,H as h,L as n}from"./app-BNBXPyAp.js";import{B as d}from"./button-CG4I0rhr.js";import{C as p,a as j,b as g,d as b}from"./card-lfiC7PRw.js";import{T as y,a as f,b as x,c as r,d as N,e as t}from"./table-BfUlpZM2.js";import{A as T}from"./app-layout-CrXQ-9n1.js";import{P as k,S as v,T as w}from"./trash-2-BSsjL1NB.js";import"./index-CpNs-TYM.js";import"./index-BjsOvRp_.js";import"./createLucideIcon-GQdaFuD7.js";import"./index-BjWpYu-z.js";import"./index-C7Ys3ZSS.js";import"./calculator-BR8lv0Zp.js";function z({notifications:i}){const{flash:a}=u().props,c=s=>({system:"Sistem",reminder:"Pengingat",alert:"Alert",broadcast:"Broadcast"})[s]||s,m=s=>({system:"bg-blue-100 text-blue-800",reminder:"bg-yellow-100 text-yellow-800",alert:"bg-red-100 text-red-800",broadcast:"bg-purple-100 text-purple-800"})[s]||"bg-gray-100 text-gray-800";return e.jsxs(T,{children:[e.jsx(h,{title:"Kelola Notifikasi"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Kelola Notifikasi"}),e.jsx(n,{href:route("notifications.create"),children:e.jsxs(d,{children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),"Buat Notifikasi"]})})]}),(a==null?void 0:a.success)&&e.jsx("div",{className:"rounded border border-green-400 bg-green-100 px-4 py-3 text-green-700",children:a.success}),e.jsxs(p,{children:[e.jsx(j,{children:e.jsx(g,{children:"Daftar Notifikasi"})}),e.jsxs(b,{children:[e.jsxs(y,{children:[e.jsx(f,{children:e.jsxs(x,{children:[e.jsx(r,{children:"Judul"}),e.jsx(r,{children:"Tipe"}),e.jsx(r,{children:"Target"}),e.jsx(r,{children:"Status"}),e.jsx(r,{children:"Jadwal"}),e.jsx(r,{children:"Aksi"})]})}),e.jsx(N,{children:i.data.map(s=>{var l;return e.jsxs(x,{children:[e.jsx(t,{className:"max-w-xs",children:e.jsx("div",{className:"truncate",title:s.title,children:s.title})}),e.jsx(t,{children:e.jsx("span",{className:`rounded px-2 py-1 text-xs font-medium ${m(s.type)}`,children:c(s.type)})}),e.jsx(t,{children:s.target_users?`${s.target_users.length} user`:"Semua user"}),e.jsx(t,{children:e.jsx("span",{className:`rounded px-2 py-1 text-xs font-medium ${s.is_sent?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:s.is_sent?"Terkirim":"Belum Terkirim"})}),e.jsx(t,{children:s.scheduled_at?new Date(s.scheduled_at).toLocaleString("id-ID"):"-"}),e.jsx(t,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{href:route("notifications.edit",s.id),children:e.jsx(d,{variant:"outline",size:"sm",children:e.jsx(v,{className:"h-4 w-4"})})}),e.jsxs("form",{method:"POST",action:route("notifications.destroy",s.id),onSubmit:o=>{confirm("Apakah Anda yakin ingin menghapus notifikasi ini?")||o.preventDefault()},children:[e.jsx("input",{type:"hidden",name:"_method",value:"DELETE"}),e.jsx("input",{type:"hidden",name:"_token",value:(l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.getAttribute("content")}),e.jsx(d,{type:"submit",variant:"outline",size:"sm",className:"text-red-600 hover:text-red-800",children:e.jsx(w,{className:"h-4 w-4"})})]})]})})]},s.id)})})]}),i.data.length===0&&e.jsx("div",{className:"py-8 text-center text-gray-500",children:"Belum ada notifikasi."})]})]})]})]})}export{z as default};
