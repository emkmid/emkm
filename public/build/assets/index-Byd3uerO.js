import{a as P,U as h,u as N,j as e,H as v,L as x}from"./app-iWz4RNRV.js";import{A as y,B as C}from"./app-layout-Cq8uAHZB.js";import{H as T}from"./heading-small-7U3LOglg.js";import{A as u,C as m,a as j,b as g,P as k,c as w,d,e as B,f as H,g as L}from"./pagination-D7GB6DEP.js";import{A as S,a as I,b as _,c as F,d as R,e as E,f as J,g as M,h as Y}from"./alert-dialog-Crit1vt4.js";import{B as n}from"./button-BMR34jYe.js";import{C as G,d as U}from"./card-C55RijYv.js";import{T as q,a as z,b as c,c as t,d as K,e as a}from"./table-BwJgeAyY.js";import"./index-B_44boGZ.js";import"./index-DwWDICg1.js";import"./createLucideIcon-Ce37qJP_.js";import"./index-3PA3w9sb.js";import"./index-DmzIRUOb.js";import"./calculator-Yd2uEMBY.js";const O=[{title:"Piutang",href:"/dashboard/receivables"}],Q=[{title:"Piutang",href:""}],oe=()=>{const{receivables:i,flash:r}=P().props,[V,p]=h.useState(r),{processing:o,delete:b}=N();return h.useEffect(()=>{if(r!=null&&r.success||r!=null&&r.error){const s=setTimeout(()=>{p({})},3e3);return()=>clearTimeout(s)}},[r]),e.jsxs(y,{breadcrumbs:O,children:[e.jsx(v,{title:"Piutang"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[e.jsx(C,{breadcrumbs:Q}),(r==null?void 0:r.success)&&e.jsxs(u,{variant:"default",className:"border-green-300 bg-green-100 text-green-700 dark:border-green-600 dark:bg-green-900/20 dark:text-green-200",children:[e.jsx(m,{className:"h-4 w-4"}),e.jsx(j,{children:"Berhasil"}),e.jsx(g,{children:r.success})]}),(r==null?void 0:r.error)&&e.jsxs(u,{variant:"destructive",className:"border-red-300 bg-red-100 text-red-700 dark:border-red-600 dark:bg-red-900/20 dark:text-red-200",children:[e.jsx(m,{className:"h-4 w-4"}),e.jsx(j,{children:"Gagal"}),e.jsx(g,{children:r.error})]}),e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx(T,{title:"Piutang",description:"Daftar semua Piutang yang telah dicatat."}),e.jsx(n,{asChild:!0,children:e.jsx(x,{href:route("receivables.create"),children:"Tambah Piutang"})})]}),e.jsx(G,{children:e.jsx(U,{children:e.jsxs(q,{children:[e.jsx(z,{children:e.jsxs(c,{children:[e.jsx(t,{children:"Jatuh Tempo"}),e.jsx(t,{children:"Pemberi Piutang"}),e.jsx(t,{children:"Deskripsi"}),e.jsx(t,{children:"Jumlah"}),e.jsx(t,{children:"Dibayar"}),e.jsx(t,{style:{width:"1%"},children:"Aksi"})]})}),e.jsx(K,{children:i.data.length>0?i.data.map(s=>e.jsxs(c,{children:[e.jsx(a,{children:s.due_date?new Date(s.due_date).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"}):"-"}),e.jsx(a,{children:s.debtor}),e.jsx(a,{children:s.description}),e.jsxs(a,{children:["Rp",Number(s.amount).toLocaleString("id-ID")]}),e.jsxs(a,{children:["Rp",Number(s.paid_amount).toLocaleString("id-ID")]}),e.jsxs(a,{children:[e.jsx(n,{asChild:!0,className:"me-2 w-fit",children:e.jsx(x,{href:route("receivables.edit",{receivable:s.id}),children:"Edit"})}),e.jsxs(S,{children:[e.jsx(I,{asChild:!0,children:e.jsx(n,{variant:"destructive",className:"w-fit",children:"Hapus"})}),e.jsxs(_,{children:[e.jsxs(F,{children:[e.jsx(R,{children:"Yakin ingin menghapus?"}),e.jsx(E,{children:"Data akan dihapus secara permanen dan tidak bisa dikembalikan."})]}),e.jsxs(J,{children:[e.jsx(M,{children:"Batal"}),e.jsx(Y,{asChild:!0,children:e.jsx(n,{disabled:o,onClick:()=>b(route("receivables.destroy",{receivable:s.id})),children:o?"Menghapus...":"Ya, hapus"})})]})]})]})]})]},s.id)):e.jsx(c,{children:e.jsx(a,{colSpan:6,className:"text-center text-gray-500",children:"Belum ada piutang"})})})]})})}),i.links.length>1&&e.jsx(k,{className:"mt-2 justify-end",children:e.jsx(w,{children:i.links.map((s,l)=>{const f=s.label.includes("Previous"),D=s.label.includes("Next"),A=s.active;return f?e.jsx(d,{children:e.jsx(B,{href:s.url??"#",className:s.url?"":"pointer-events-none opacity-50"})},l):D?e.jsx(d,{children:e.jsx(H,{href:s.url??"#",className:s.url?"":"pointer-events-none opacity-50"})},l):e.jsx(d,{children:e.jsx(L,{href:s.url??"#",isActive:A,className:s.url?"":"pointer-events-none opacity-50",children:s.label})},l)})})})]}),"asdsd"]})};export{oe as default};
